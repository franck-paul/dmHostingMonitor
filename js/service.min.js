"use strict";dotclear.ready(()=>{if(dotclear.dmHostingMonitor=dotclear.getData("dm_hostingmonitor"),!dotclear.dmHostingMonitor.ping)return;const t=()=>{const t=(t=!1)=>{const o=document.querySelector("body");if(!o)return;const e=document.querySelectorAll("img.go_home");""===o.dataset.server&&e.length&&e[0].alt.length&&(dotclear.dmHostingMonitor.alt=`${e[0].alt} : `),dotclear.dmHostingMonitor.alt??="",o.style.filter=t?"":"grayscale(1)";const r=`${dotclear.dmHostingMonitor.alt+(t?dotclear.dmHostingMonitor.online:dotclear.dmHostingMonitor.offline)} (${(new Date).toLocaleString()})`;if(e.length)for(const t of e)t.alt=r;if("function"==typeof notifyBrowser&&(t&&"0"===o.dataset.server||!t&&"1"===o.dataset.server)&&notifyBrowser(r),o.dataset.server=t?"1":"0",e.length)for(const t of e)t.title=t.alt};!1!==dotclear.dmOnline()?dotclear.jsonServices("dmHelperPing",o=>{t(o.ret)},o=>{dotclear?.debug&&console.log(o),t(!1)}):t(!1)},o=document.querySelector("body");o&&(o.dataset.server="",t(),dotclear.dmHostingMonitor.timer=setInterval(t,1e3*(dotclear.dmHostingMonitor.interval||300)))});
