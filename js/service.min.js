"use strict";dotclear.dmHostingMonitorPing=()=>{const t=(t=!1)=>{const o=document.querySelector("body");if(!o)return;const e=document.querySelectorAll("#content h2 a img").length>0?document.querySelectorAll("#content h2 a img"):document.querySelectorAll("#content h2 img");""===o.dataset.server&&e.length&&e[0].alt.length&&(dotclear.dmHostingMonitor_Alt=`${e[0].alt} : `),dotclear.dmHostingMonitor_Alt=dotclear.dmHostingMonitor_Alt??"",o.style.filter=t?"":"grayscale(1)";const n=`${dotclear.dmHostingMonitor_Alt+(t?dotclear.dmHostingMonitor_Online:dotclear.dmHostingMonitor_Offline)} (${(new Date).toLocaleString()})`;if(e.length)for(const t of e)t.alt=n;if("function"==typeof notifyBrowser&&(t&&"0"===o.dataset.server||!t&&"1"===o.dataset.server)&&notifyBrowser(n),o.dataset.server=t?"1":"0",e.length)for(const t of e)t.title=t.alt};!1!==dotclear.dmOnline()?dotclear.jsonServices("dmHelperPing",(o=>{t(o.ret)}),(o=>{dotclear?.debug&&console.log(o),t(!1)})):t(!1)},dotclear.ready((()=>{if(Object.assign(dotclear,dotclear.getData("dm_hostingmonitor")),!dotclear.dmHostingMonitor_Ping)return;const t=document.querySelector("body");t&&(t.dataset.server="",dotclear.dmHostingMonitorPing(),dotclear.dmHostingMonitor_Timer=setInterval(dotclear.dmHostingMonitorPing,1e3*(dotclear.dmHostingMonitor_Interval||300)))}));
